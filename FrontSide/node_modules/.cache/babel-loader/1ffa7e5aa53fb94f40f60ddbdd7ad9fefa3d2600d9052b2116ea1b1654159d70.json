{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usager\\\\Documents\\\\FaceRecognitionProject\\\\ComputerVision\\\\FrontSide\\\\src\\\\Pages\\\\GuestPage\\\\Card\\\\Card.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport \"./Card.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = ({\n  showCard,\n  onToggleCard\n}) => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [name, setName] = useState(\"\");\n  const [image, setImage] = useState(null);\n  useEffect(() => {\n    startVideo();\n    return () => {\n      // Cleanup: stop video stream when component unmounts\n      if (videoRef.current && videoRef.current.srcObject) {\n        videoRef.current.srcObject.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n  const startVideo = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      videoRef.current.srcObject = stream;\n    } catch (err) {\n      console.error(\"Error accessing camera:\", err);\n    }\n  };\n  const takeScreenshot = () => {\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    canvas.getContext(\"2d\").drawImage(video, 0, 0);\n    canvas.toBlob(blob => {\n      setImage(blob);\n    }, \"image/jpeg\");\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!image) return;\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"image\", image, \"screenshot.jpg\");\n\n    // Your API call here\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: `card-container ${showCard ? \"show\" : \"hide\"}`,\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"input-label\",\n      htmlFor: \"name\",\n      children: \"Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      className: \"input-text\",\n      value: name,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        style: {\n          width: \"100%\",\n          maxWidth: \"500px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          display: \"none\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: takeScreenshot,\n      className: \"capture-button\",\n      children: \"Take Screenshot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"submit-button\",\n      disabled: !image,\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(Card, \"XJqWd5zYB0zJTsdni4q5tKGbc1M=\");\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","Card","showCard","onToggleCard","_s","videoRef","canvasRef","name","setName","image","setImage","startVideo","current","srcObject","getTracks","forEach","track","stop","stream","navigator","mediaDevices","getUserMedia","video","err","console","error","takeScreenshot","canvas","width","videoWidth","height","videoHeight","getContext","drawImage","toBlob","blob","handleSubmit","e","preventDefault","formData","FormData","append","className","onSubmit","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","value","onChange","target","ref","autoPlay","playsInline","style","maxWidth","display","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Usager/Documents/FaceRecognitionProject/ComputerVision/FrontSide/src/Pages/GuestPage/Card/Card.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./Card.css\";\r\n\r\nconst Card = ({ showCard, onToggleCard }) => {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    startVideo();\r\n    return () => {\r\n      // Cleanup: stop video stream when component unmounts\r\n      if (videoRef.current && videoRef.current.srcObject) {\r\n        videoRef.current.srcObject.getTracks().forEach((track) => track.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const startVideo = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n      videoRef.current.srcObject = stream;\r\n    } catch (err) {\r\n      console.error(\"Error accessing camera:\", err);\r\n    }\r\n  };\r\n\r\n  const takeScreenshot = () => {\r\n    const video = videoRef.current;\r\n    const canvas = canvasRef.current;\r\n\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    canvas.getContext(\"2d\").drawImage(video, 0, 0);\r\n\r\n    canvas.toBlob((blob) => {\r\n      setImage(blob);\r\n    }, \"image/jpeg\");\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!image) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"image\", image, \"screenshot.jpg\");\r\n\r\n    // Your API call here\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className={`card-container ${showCard ? \"show\" : \"hide\"}`}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"input-label\" htmlFor=\"name\">\r\n        Name\r\n      </label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"name\"\r\n        className=\"input-text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n\r\n      <div className=\"video-container\">\r\n        <video\r\n          ref={videoRef}\r\n          autoPlay\r\n          playsInline\r\n          style={{ width: \"100%\", maxWidth: \"500px\" }}\r\n        />\r\n        <canvas ref={canvasRef} style={{ display: \"none\" }} />\r\n      </div>\r\n\r\n      <button type=\"button\" onClick={takeScreenshot} className=\"capture-button\">\r\n        Take Screenshot\r\n      </button>\r\n\r\n      <button type=\"submit\" className=\"submit-button\" disabled={!image}>\r\n        Upload\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}